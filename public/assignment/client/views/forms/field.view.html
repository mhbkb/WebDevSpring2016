<div class="col-sm-9 main">
    <h1 class="page-header">Forms</h1>
    <div class="row">
        <div class="col-sm-3">
            <ul class="nav nav-pills nav-justified">
                <li><a href="#/forms">Forms</a></li>
                <li class="active"><a href="#/form/{{ formId}}/fields">Fields</a></li>
            </ul>
        </div>
    </div><br/>
    <div class="row">
        <div class="col-sm-7">
            <table class="table table-responsive">
                <tbody ng-model="fields"  ui-sortable="fields">
                <tr ng-switch="field.type" ng-repeat="field in fields">
                    <td ng-switch-when="TEXT">
                        <div class="col-sm-6">
                            {{ field.label}}: <br/>
                            <input type="text" class="form-control" placeholder="{{ field.placeholder}}">
                        </div><br/>
                        <div class="col-sm-3">
                            <a ng-click="popField(field)"><span class="glyphicon glyphicon-pencil"></span></a>
                            <a ng-click="copyField(field)"><span class="glyphicon glyphicon-plus"></span></a>
                            <a ng-click="removeField(field)"><span class="glyphicon glyphicon-remove"></span></a>
                            <a ng-click="saveSortedFields()"><span class="glyphicon glyphicon-align-justify"></span></a>
                        </div>
                    </td>
                    <td ng-switch-when="TEXTAREA">
                        <div class="col-sm-6">
                            {{ field.label}}: <br/>
                            <input type="text" class="form-control" placeholder="{{ field.placeholder}}">
                        </div><br/>
                        <div class="col-sm-3">
                            <a ng-click="popField(field)"><span class="glyphicon glyphicon-pencil"></span></a>
                            <a ng-click="copyField(field)"><span class="glyphicon glyphicon-plus"></span></a>
                            <a ng-click="removeField(field)"><span class="glyphicon glyphicon-remove"></span></a>
                            <a ng-click="saveSortedFields()"><span class="glyphicon glyphicon-align-justify"></span></a>
                        </div>
                    </td>
                    <td ng-switch-when="DATE">
                        <div class="col-sm-6">
                            {{ field.label}}: <br/>
                            <input type="date" class="form-control">
                        </div><br/>
                        <div class="col-sm-3">
                            <a ng-click="popField(field)"><span class="glyphicon glyphicon-pencil"></span></a>
                            <a ng-click="copyField(field)"><span class="glyphicon glyphicon-plus"></span></a>
                            <a ng-click="removeField(field)"><span class="glyphicon glyphicon-remove"></span></a>
                            <a ng-click="saveSortedFields()"><span class="glyphicon glyphicon-align-justify"></span></a>
                        </div>
                    </td>
                    <td ng-switch-when="OPTIONS">
                        <div class="col-sm-6">
                            {{ field.label}}: <br/>
                            <div class="form-group">
                                <select class="form-control">
                                    <option ng-repeat="opt in field.options" value="{{ opt.value}}">
                                        {{opt.label}}
                                    </option>
                                </select>
                            </div>
                        </div><br/>
                        <div class="col-sm-3">
                            <a ng-click="popField(field)"><span class="glyphicon glyphicon-pencil"></span></a>
                            <a ng-click="copyField(field)"><span class="glyphicon glyphicon-plus"></span></a>
                            <a ng-click="removeField(field)"><span class="glyphicon glyphicon-remove"></span></a>
                            <a ng-click="saveSortedFields()"><span class="glyphicon glyphicon-align-justify"></span></a>
                        </div>
                    </td>
                    <td ng-switch-when="CHECKBOXES">
                        <div class="col-sm-6">
                            {{ field.label}}: <br/>
                            <div class="input-group">
                                <div class="checkbox">
                                    <label ng-repeat="opt in field.options">
                                        <input type="checkbox" value="{{ opt.value}}" name="checkbox"> {{ opt.label}}
                                    </label>
                                </div>
                            </div>
                        </div><br/>
                        <div class="col-sm-3">
                            <a ng-click="popField(field)"><span class="glyphicon glyphicon-pencil"></span></a>
                            <a ng-click="copyField(field)"><span class="glyphicon glyphicon-plus"></span></a>
                            <a ng-click="removeField(field)"><span class="glyphicon glyphicon-remove"></span></a>
                            <a ng-click="saveSortedFields()"><span class="glyphicon glyphicon-align-justify"></span></a>
                        </div>
                    </td>
                    <td ng-switch-when="RADIOS">
                        <div class="col-sm-6">
                            {{ field.label}}: <br/>
                            <div class="input-group">
                                <div class="radio">
                                    <label ng-repeat="opt in field.options">
                                        <input type="radio" value="{{ opt.value}}" name="radio"> {{ opt.label}}
                                    </label>
                                </div>
                            </div>
                        </div><br/>
                        <div class="col-sm-3">
                            <a ng-click="popField(field)"><span class="glyphicon glyphicon-pencil"></span></a>
                            <a ng-click="copyField(field)"><span class="glyphicon glyphicon-plus"></span></a>
                            <a ng-click="removeField(field)"><span class="glyphicon glyphicon-remove"></span></a>
                            <a ng-click="saveSortedFields()"><span class="glyphicon glyphicon-align-justify"></span></a>
                        </div>
                    </td>
                </tr><br/>
                </tbody>
            </table>
            <hr/>

            Add New Field:
            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group">
                        <select class="form-control" ng-model="newField">
                            <option ng-repeat="field in newFields" value="{{field.type}}">{{field.label}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-3">
                    <a ng-click="addField(newField)"><span class="glyphicon glyphicon-plus"></span></a>
                </div>
            </div>
        </div>
    </div>

    <script type="text/ng-template" id="myModal">
        <div ng-switch on="field.type">
            <div ng-switch-when="TEXT">
                <div class="modal-header">
                    <h3 class="modal-title">Single Line Field</h3>
                </div>
                <div class="modal-body">
                    Label <br/>
                    <input type="text" class="form-control" ng-model="field.label">
                    Placeholder <br/>
                    <input type="text" class="form-control" ng-model="field.placeholder">
                </div>
            </div>
            <div ng-switch-when="TEXTAREA">
                <div class="modal-header">
                    <h3 class="modal-title">Multiple Lines Field</h3>
                </div>
                <div class="modal-body">
                    Label <br/>
                    <input type="text" class="form-control" ng-model="field.label">
                    Placeholder <br/>
                    <input type="text" class="form-control" ng-model="field.placeholder">
                </div>
            </div>
            <div ng-switch-when="DATE">
                <div class="modal-header">
                    <h3 class="modal-title">Date Field</h3>
                </div>
                <div class="modal-body">
                    Label <br/>
                    <input type="text" class="form-control" ng-model="field.label">
                </div>
            </div>
            <div ng-switch-when="OPTIONS">
                <div class="modal-header">
                    <h3 class="modal-title">Dropdown Field</h3>
                </div>
                <div class="modal-body">
                    Label <br/>
                    <input type="text" class="form-control" ng-model="field.label">
                    Options <br/>
                    <textarea ng-model="field.optionList" class="form-control" placeholder="Edit Options" ng-list="&#10;" ng-trim="false"></textarea>
                </div>
            </div>
            <div ng-switch-when="CHECKBOXES">
                <div class="modal-header">
                    <h3 class="modal-title">Checkbox Field</h3>
                </div>
                <div class="modal-body">
                    Label <br/>
                    <input type="text" class="form-control" ng-model="field.label">
                    Options <br/>
                    <textarea ng-model="field.optionList" class="form-control" placeholder="Edit Options" ng-list="&#10;" ng-trim="false"></textarea>
                </div>
            </div>
            <div ng-switch-when="RADIOS">
                <div class="modal-header">
                    <h3 class="modal-title">Checkbox Field</h3>
                </div>
                <div class="modal-body">
                    Label <br/>
                    <input type="text" class="form-control" ng-model="field.label">
                    Options <br/>
                    <textarea ng-model="field.optionList" class="form-control" placeholder="Edit Options" ng-list="&#10;" ng-trim="false"></textarea>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="updateField(field)">OK</button>
            <button class="btn btn-warning" type="button" ng-click="cancelModal()">Cancel</button>
        </div>
    </script>
</div>